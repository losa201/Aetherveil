# Dockerfile for Aetherveil Red Team Pentester Agent (v2)
# Use a slim Python base image
FROM python:3.10-slim-buster

# Set working directory
WORKDIR /app

# Copy requirements and install dependencies
COPY agents/red_team_pentester_v2/requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy the agent code
COPY agents/red_team_pentester_v2/main.py .
COPY agents/red_team_pentester_v2/config.py .
COPY agents/red_team_pentester_v2/hackerone_parser.py .
COPY agents/red_team_pentester_v2/scanner.py .
COPY agents/red_team_pentester_v2/learner.py .
COPY agents/red_team_pentester_v2/reporter.py .

# Expose a port if needed for HTTP triggers (e.g., Cloud Run)
# EXPOSE 8080

# Command to run the application
CMD ["python", "main.py"]
